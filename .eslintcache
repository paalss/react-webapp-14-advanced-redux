[{"/Users/paalss/Documents/programmering/react-kurs/react-webapp-14-advanced-redux/src/index.js":"1","/Users/paalss/Documents/programmering/react-kurs/react-webapp-14-advanced-redux/src/App.js":"2","/Users/paalss/Documents/programmering/react-kurs/react-webapp-14-advanced-redux/src/store/index.js":"3","/Users/paalss/Documents/programmering/react-kurs/react-webapp-14-advanced-redux/src/store/cart-slice.js":"4","/Users/paalss/Documents/programmering/react-kurs/react-webapp-14-advanced-redux/src/store/ui-slice.js":"5","/Users/paalss/Documents/programmering/react-kurs/react-webapp-14-advanced-redux/src/components/Layout/Layout.js":"6","/Users/paalss/Documents/programmering/react-kurs/react-webapp-14-advanced-redux/src/components/Cart/Cart.js":"7","/Users/paalss/Documents/programmering/react-kurs/react-webapp-14-advanced-redux/src/components/Shop/Products.js":"8","/Users/paalss/Documents/programmering/react-kurs/react-webapp-14-advanced-redux/src/components/UI/Notification.js":"9","/Users/paalss/Documents/programmering/react-kurs/react-webapp-14-advanced-redux/src/components/Cart/CartItem.js":"10","/Users/paalss/Documents/programmering/react-kurs/react-webapp-14-advanced-redux/src/components/Layout/MainHeader.js":"11","/Users/paalss/Documents/programmering/react-kurs/react-webapp-14-advanced-redux/src/components/UI/Card.js":"12","/Users/paalss/Documents/programmering/react-kurs/react-webapp-14-advanced-redux/src/components/Shop/ProductItem.js":"13","/Users/paalss/Documents/programmering/react-kurs/react-webapp-14-advanced-redux/src/components/Cart/CartButton.js":"14","/Users/paalss/Documents/programmering/react-kurs/react-webapp-14-advanced-redux/src/store/cart-actions.js":"15"},{"size":265,"mtime":1623222056328,"results":"16","hashOfConfig":"17"},{"size":1316,"mtime":1623228861363,"results":"18","hashOfConfig":"17"},{"size":244,"mtime":1623221958132,"results":"19","hashOfConfig":"17"},{"size":1647,"mtime":1623227783699,"results":"20","hashOfConfig":"17"},{"size":523,"mtime":1623222056329,"results":"21","hashOfConfig":"17"},{"size":233,"mtime":1623221567602,"results":"22","hashOfConfig":"17"},{"size":742,"mtime":1623222056326,"results":"23","hashOfConfig":"17"},{"size":691,"mtime":1623221958131,"results":"24","hashOfConfig":"17"},{"size":491,"mtime":1623222056327,"results":"25","hashOfConfig":"17"},{"size":1057,"mtime":1623222056327,"results":"26","hashOfConfig":"17"},{"size":361,"mtime":1623221567603,"results":"27","hashOfConfig":"17"},{"size":244,"mtime":1623221567604,"results":"28","hashOfConfig":"17"},{"size":954,"mtime":1623222056327,"results":"29","hashOfConfig":"17"},{"size":584,"mtime":1623222056326,"results":"30","hashOfConfig":"17"},{"size":1949,"mtime":1623231030661,"results":"31","hashOfConfig":"17"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},"rs876g",{"filePath":"35","messages":"36","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37","usedDeprecatedRules":"34"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"42","usedDeprecatedRules":"34"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/paalss/Documents/programmering/react-kurs/react-webapp-14-advanced-redux/src/index.js",[],["65","66"],"/Users/paalss/Documents/programmering/react-kurs/react-webapp-14-advanced-redux/src/App.js",["67"],"import Cart from \"./components/Cart/Cart\";\nimport Layout from \"./components/Layout/Layout\";\nimport Products from \"./components/Shop/Products\";\nimport Notification from \"./components/UI/Notification\";\n\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Fragment, useEffect } from \"react\";\nimport { fetchCartData, sendCartData } from \"./store/cart-actions\";\n\nlet isInitial = true;\n\nfunction App() {\n  const dispatch = useDispatch();\n  const isCartVisible = useSelector((state) => state.ui.isCartVisible);\n  const cart = useSelector((state) => state.cart);\n  const notification = useSelector((state) => state.ui.notification);\n\n  useEffect(() => {\n    dispatch(fetchCartData())\n  }, [])\n\n  useEffect(() => {\n    /* hvis komponentet rendrer første gang, blokker at cart data blir\n    sendt til firebase */\n    if (isInitial) {\n      isInitial = false;\n      return;\n    }\n\n    if (cart.changed) {\n      dispatch(sendCartData(cart))\n    }\n  }, [cart, dispatch]);\n\n  return (\n    <Fragment>\n      {notification && (\n        <Notification\n          status={notification.status}\n          title={notification.title}\n          message={notification.message}\n        />\n      )}\n      <Layout>\n        {isCartVisible && <Cart />}\n        <Products />\n      </Layout>\n    </Fragment>\n  );\n}\n\nexport default App;\n","/Users/paalss/Documents/programmering/react-kurs/react-webapp-14-advanced-redux/src/store/index.js",[],"/Users/paalss/Documents/programmering/react-kurs/react-webapp-14-advanced-redux/src/store/cart-slice.js",["68"],"import { createSlice, current } from \"@reduxjs/toolkit\";\n\nconst cartSlice = createSlice({\n  name: \"cart\",\n  initialState: {\n    items: [],\n    totalQuantity: 0,\n    changed: false,\n  },\n  reducers: {\n    replaceCart(state, action) {\n      state.totalQuantity = action.payload.totalQuantity;\n      state.items = action.payload.items;\n    },\n    addItem(state, action) {\n      // console.log('state.items:', current(state.items))\n      // console.log(action);\n      state.changed = true;\n      const newItem = action.payload;\n      const existingItem = state.items.find((item) => item.id === newItem.id);\n      state.totalQuantity++;\n      if (!existingItem) {\n        // hvis element ikke eksiterer i cart, legg til nytt element\n        state.items.push({\n          id: newItem.id,\n          title: newItem.title,\n          price: newItem.price,\n          quantity: 1,\n          totalPrice: newItem.price,\n        });\n      } else {\n        // hvis element finnes i cart, øk kvantiteten/telleren\n        existingItem.quantity++;\n        existingItem.totalPrice = existingItem.totalPrice + newItem.price;\n      }\n    },\n    removeItem(state, action) {\n      state.changed = true;\n      const id = action.payload;\n      const existingItem = state.items.find((item) => item.id === id);\n      state.totalQuantity--;\n      if (existingItem.quantity === 1) {\n        state.items = state.items.filter((item) => item.id !== id);\n      } else {\n        existingItem.quantity--;\n        existingItem.totalPrice = existingItem.totalPrice - existingItem.price;\n      }\n    },\n  },\n});\n\nexport const cartActions = cartSlice.actions;\n\nexport default cartSlice;\n","/Users/paalss/Documents/programmering/react-kurs/react-webapp-14-advanced-redux/src/store/ui-slice.js",[],"/Users/paalss/Documents/programmering/react-kurs/react-webapp-14-advanced-redux/src/components/Layout/Layout.js",[],"/Users/paalss/Documents/programmering/react-kurs/react-webapp-14-advanced-redux/src/components/Cart/Cart.js",[],"/Users/paalss/Documents/programmering/react-kurs/react-webapp-14-advanced-redux/src/components/Shop/Products.js",[],"/Users/paalss/Documents/programmering/react-kurs/react-webapp-14-advanced-redux/src/components/UI/Notification.js",[],"/Users/paalss/Documents/programmering/react-kurs/react-webapp-14-advanced-redux/src/components/Cart/CartItem.js",[],"/Users/paalss/Documents/programmering/react-kurs/react-webapp-14-advanced-redux/src/components/Layout/MainHeader.js",[],"/Users/paalss/Documents/programmering/react-kurs/react-webapp-14-advanced-redux/src/components/UI/Card.js",[],"/Users/paalss/Documents/programmering/react-kurs/react-webapp-14-advanced-redux/src/components/Shop/ProductItem.js",[],"/Users/paalss/Documents/programmering/react-kurs/react-webapp-14-advanced-redux/src/components/Cart/CartButton.js",[],"/Users/paalss/Documents/programmering/react-kurs/react-webapp-14-advanced-redux/src/store/cart-actions.js",[],{"ruleId":"69","replacedBy":"70"},{"ruleId":"71","replacedBy":"72"},{"ruleId":"73","severity":1,"message":"74","line":20,"column":6,"nodeType":"75","endLine":20,"endColumn":8,"suggestions":"76"},{"ruleId":"77","severity":1,"message":"78","line":1,"column":23,"nodeType":"79","messageId":"80","endLine":1,"endColumn":30},"no-native-reassign",["81"],"no-negated-in-lhs",["82"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.","ArrayExpression",["83"],"no-unused-vars","'current' is defined but never used.","Identifier","unusedVar","no-global-assign","no-unsafe-negation",{"desc":"84","fix":"85"},"Update the dependencies array to be: [dispatch]",{"range":"86","text":"87"},[694,696],"[dispatch]"]